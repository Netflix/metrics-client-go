language: go

env:
  - GO_TEST_CMD=goveralls

go:
  - 1.7.x
  - 1.8.x
  - 1.9.x  

before_install:
  - go get golang.org/x/tools/cmd/cover
  - go get github.com/mattn/goveralls
  - go get github.com/alecthomas/gometalinter
  - gometalinter --install

install:
  - go install ./...

script:
  - $GOPATH/bin/goveralls -v
  - $GOPATH/bin/goveralls -v -race
  - gometalinter --vendor --tests --concurrency=4 --deadline=300s --enable=unused --enable=goimports --enable=gofmt ./...

